
<div id="container">
    <aside>
     <header>
    {{ currentUser.username }}
    </header>


    <ul  *ngIf="currentRoom">
      <li *ngFor="let data of allChatRooms">

          <h3 [class.active]="currentRoom.id === data.id" (click)="joinToSelectedRoom(data.id)" > {{data.chatName}}</h3>

      </li>

    </ul>

    </aside>
      <main>
        <header>
			<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1940306/chat_avatar_01.jpg" alt="">
			<div >
				<h2>{{currentRoom.chatName}}</h2>
				<h3>already 1902 messages</h3>
			</div>
			<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/1940306/ico_star.png" alt="">
		</header>

    <ul id="chat" *ngIf="currentUser" >

        <div  *ngFor="let message of messages">
          <li [ngClass]="{'me': message.senderName == currentUser.username, 'you':message.senderName != currentUser.username }"  >
				<div class="entete">
					<span class="status green"></span>
					<h2 >{{ message.senderName }}</h2>

				</div>
				<div class="triangle"></div>
				<div class="message">
          {{message.content}}
				</div>

      </li>
        </div>
<!--      <li  *ngFor="let message of messages">-->
<!--				<div class="entete">-->
<!--					<span class="status green"></span>-->
<!--					<h2>{{ message.senderName }}</h2>-->
<!--				</div>-->
<!--				<div class="triangle"></div>-->
<!--				<div class="message">-->
<!--          {{message.content}}-->
<!--				</div>-->
<!--      </li>-->
    </ul>
        <footer *ngIf="currentUser" class="chat-footer">


          <div class="images">

            <form>
              <input type="file" (change)="onSelectFile($event)">
              <br>
              <br>
              <button  type="button" (click)="performUpload()"><i class="fa fa-upload" aria-hidden="true"></i> Upload</button>
            </form>

          </div>

          <form class="message-form" enctype="multipart/form-data" (ngSubmit)="sendMessage()"> <input
            class="message-form"
            type="text"
            placeholder="Type a message. Pres Enter to send"
            name="message"
            [(ngModel)]="newMessage"> <input type="file" (change)="onSelectFile($event)">

          </form>
        </footer>
      </main>
  </div>


